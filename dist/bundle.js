(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var constants_1 = require("../shared/constants");
var Grid_1 = require("./Grid");
var View_1 = require("./View");
var Snake_1 = require("./Snake");
var Game = /** @class */ (function () {
    function Game() {
        this.frame = 0;
        this.score = 0;
        this.speed = constants_1.START_SPEED;
        this.direction = constants_1.DIRECTION.RIGHT;
        this.isChangeDirectionAllowed = true;
        this.isPaused = false;
        this.grid = new Grid_1.default();
        this.view = new View_1.default(this.grid.columnsQuantity, this.grid.rowsQuantity);
        this.snake = new Snake_1.default(this.grid);
        window.addEventListener('keydown', this.onKeyDown.bind(this));
        this.generateApple();
    }
    Game.prototype.start = function () {
        this.view.hideStartScreen();
        window.focus();
        window.requestAnimationFrame(this.startLoop.bind(this));
    };
    Game.prototype.pause = function () {
        this.isPaused = true;
        this.view.togglePauseScreen();
    };
    Game.prototype.resume = function () {
        this.isPaused = false;
        this.view.togglePauseScreen();
        window.requestAnimationFrame(this.startLoop.bind(this));
    };
    Game.prototype.onKeyDown = function (event) {
        switch (event.key) {
            case constants_1.KEY.ARROW_RIGHT:
                if (this.direction !== constants_1.DIRECTION.LEFT && this.isChangeDirectionAllowed) {
                    this.direction = constants_1.DIRECTION.RIGHT;
                }
                break;
            case constants_1.KEY.ARROW_LEFT:
                if (this.direction !== constants_1.DIRECTION.RIGHT && this.isChangeDirectionAllowed) {
                    this.direction = constants_1.DIRECTION.LEFT;
                }
                break;
            case constants_1.KEY.ARROW_UP:
                if (this.direction !== constants_1.DIRECTION.DOWN && this.isChangeDirectionAllowed) {
                    this.direction = constants_1.DIRECTION.UP;
                }
                break;
            case constants_1.KEY.ARROW_DOWN:
                if (this.direction !== constants_1.DIRECTION.UP && this.isChangeDirectionAllowed) {
                    this.direction = constants_1.DIRECTION.DOWN;
                }
                break;
            case constants_1.KEY.ENTER:
                if (!this.frame) {
                    this.start();
                }
                break;
            case constants_1.KEY.SPACE:
                if (this.frame) {
                    this.isPaused ? this.resume() : this.pause();
                }
                break;
        }
        this.isChangeDirectionAllowed = false;
    };
    Game.prototype.generateApple = function () {
        var emptyCoordinates = this.getEmptyCoordinates();
        var foodCoordinate = emptyCoordinates[Math.floor(Math.random() * (emptyCoordinates.length - 1))];
        this.grid.setCell(foodCoordinate, constants_1.CELL_TYPE.APPLE);
    };
    Game.prototype.getEmptyCoordinates = function () {
        var emptyCoordinates = [];
        for (var row = 0; row < this.grid.rowsQuantity; row++) {
            for (var column = 0; column < this.grid.columnsQuantity; column++) {
                if (this.grid.getCell({ row: row, column: column }) === constants_1.CELL_TYPE.EMPTY) {
                    emptyCoordinates.push({ row: row, column: column });
                }
            }
        }
        return emptyCoordinates;
    };
    Game.prototype.startLoop = function () {
        if (this.isPaused) {
            return;
        }
        if (++this.frame % this.speed !== 0) {
            window.requestAnimationFrame(this.startLoop.bind(this));
            return;
        }
        var headRow = this.snake.head.row;
        var headColumn = this.snake.head.column;
        switch (this.direction) {
            case constants_1.DIRECTION.RIGHT:
                headColumn++;
                break;
            case constants_1.DIRECTION.LEFT:
                headColumn--;
                break;
            case constants_1.DIRECTION.UP:
                headRow--;
                break;
            case constants_1.DIRECTION.DOWN:
                headRow++;
                break;
        }
        if (this.checkGameOver({ row: headRow, column: headColumn })) {
            // todo handle game over
            return;
        }
        var isGetApple = this.grid.getCell({ row: headRow, column: headColumn }) === constants_1.CELL_TYPE.APPLE;
        if (isGetApple) {
            this.snake.eat({ row: headRow, column: headColumn });
            this.generateApple();
            this.updateScore(++this.score);
        }
        this.snake.move({ row: headRow, column: headColumn });
        this.view.draw(this.grid.grid);
        this.isChangeDirectionAllowed = true;
        window.requestAnimationFrame(this.startLoop.bind(this));
    };
    Game.prototype.updateScore = function (score) {
        if (this.score % constants_1.SPEED_INCREASE_INTERVAL === 0) {
            this.speed--;
        }
        this.view.updateScore(this.score);
    };
    Game.prototype.checkGameOver = function (snakeHead) {
        var isTouchedBorder = snakeHead.row < 0 || snakeHead.column < 0 || snakeHead.row > this.grid.rowsQuantity - 1 || snakeHead.column > this.grid.columnsQuantity - 1;
        var isTouchedHerself = this.grid.getCell(snakeHead) === constants_1.CELL_TYPE.SNAKE;
        return isTouchedBorder || isTouchedHerself;
    };
    return Game;
}());
exports.default = Game;

},{"../shared/constants":6,"./Grid":2,"./Snake":3,"./View":4}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var constants_1 = require("../shared/constants");
var Grid = /** @class */ (function () {
    function Grid() {
        this._grid = [];
        this._cols = Math.round(window.innerWidth / constants_1.CELL_SIZE) - constants_1.GRID_MARGIN;
        this._rows = Math.round(window.innerHeight / constants_1.CELL_SIZE) - constants_1.GRID_MARGIN;
        for (var row = 0; row < this._rows; row++) {
            this._grid[row] = [];
            for (var column = 0; column < this._cols; column++) {
                this._grid[row][column] = constants_1.CELL_TYPE.EMPTY;
            }
        }
    }
    Object.defineProperty(Grid.prototype, "columnsQuantity", {
        get: function () {
            return this._cols;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Grid.prototype, "rowsQuantity", {
        get: function () {
            return this._rows;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Grid.prototype, "grid", {
        get: function () {
            return this._grid;
        },
        enumerable: true,
        configurable: true
    });
    Grid.prototype.getCell = function (coordinate) {
        return this._grid[coordinate.row][coordinate.column];
    };
    Grid.prototype.setCell = function (coordinate, type) {
        this._grid[coordinate.row][coordinate.column] = type;
    };
    return Grid;
}());
exports.default = Grid;

},{"../shared/constants":6}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var constants_1 = require("../shared/constants");
var Snake = /** @class */ (function () {
    function Snake(grid) {
        this.grid = grid;
        this.chain = [];
        this.chain.push(constants_1.START_SNAKE_COORDINATE);
    }
    Object.defineProperty(Snake.prototype, "head", {
        get: function () {
            return this.chain[0];
        },
        enumerable: true,
        configurable: true
    });
    Snake.prototype.eat = function (coordinate) {
        this.chain.unshift(coordinate);
        this.grid.setCell(coordinate, constants_1.CELL_TYPE.SNAKE);
    };
    Snake.prototype.move = function (coordinate) {
        this.chain.unshift(coordinate);
        this.grid.setCell(coordinate, constants_1.CELL_TYPE.SNAKE);
        var nextCoordinate = {
            row: this.chain[this.chain.length - 1].row,
            column: this.chain[this.chain.length - 1].column
        };
        this.grid.setCell(nextCoordinate, constants_1.CELL_TYPE.EMPTY);
        this.chain.pop();
    };
    return Snake;
}());
exports.default = Snake;

},{"../shared/constants":6}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var constants_1 = require("../shared/constants");
var View = /** @class */ (function () {
    function View(cols, rows) {
        this.cols = cols;
        this.rows = rows;
        this.startScreen = document.getElementsByClassName('popup--start')[0];
        this.pauseScreen = document.getElementsByClassName('popup--pause')[0];
        this.canvas = document.getElementsByClassName('battlefield')[0];
        this.canvas.setAttribute('width', this.cols * constants_1.CELL_SIZE + "px");
        this.canvas.setAttribute('height', this.rows * constants_1.CELL_SIZE + "px");
        this.ctx = this.canvas.getContext('2d');
    }
    View.prototype.draw = function (grid) {
        var _this = this;
        grid.forEach(function (rowArr, row) {
            rowArr.forEach(function (type, column) {
                _this.drawCell({ row: row, column: column }, type);
            });
        });
    };
    View.prototype.updateScore = function (score) {
        // todo implement score draw
    };
    View.prototype.hideStartScreen = function () {
        this.startScreen.style.display = 'none';
    };
    View.prototype.togglePauseScreen = function () {
        this.pauseScreen.style.display = this.pauseScreen.style.display === 'flex' ? 'none' : 'flex';
    };
    View.prototype.drawCell = function (coordinate, type) {
        this.ctx.fillStyle = constants_1.COLOR[type] || constants_1.COLOR[constants_1.CELL_TYPE.EMPTY];
        this.ctx.fillRect(coordinate.column * constants_1.CELL_SIZE, coordinate.row * constants_1.CELL_SIZE, constants_1.CELL_SIZE, constants_1.CELL_SIZE);
    };
    ;
    return View;
}());
exports.default = View;

},{"../shared/constants":6}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Game_1 = require("./controllers/Game");
var game = new Game_1.default();
var startButton = document.getElementsByClassName('popup__button')[0];
startButton.addEventListener('click', function () { return game.start(); });

},{"./controllers/Game":1}],6:[function(require,module,exports){
"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.CELL_SIZE = 20;
exports.GRID_MARGIN = 6;
exports.START_SPEED = 10;
exports.SPEED_INCREASE_INTERVAL = 5;
exports.START_SNAKE_COORDINATE = {
    row: 3,
    column: 3
};
var KEY;
(function (KEY) {
    KEY["ARROW_UP"] = "ArrowUp";
    KEY["ARROW_RIGHT"] = "ArrowRight";
    KEY["ARROW_DOWN"] = "ArrowDown";
    KEY["ARROW_LEFT"] = "ArrowLeft";
    KEY["ENTER"] = "Enter";
    KEY["SPACE"] = " ";
})(KEY = exports.KEY || (exports.KEY = {}));
var CELL_TYPE;
(function (CELL_TYPE) {
    CELL_TYPE[CELL_TYPE["EMPTY"] = 0] = "EMPTY";
    CELL_TYPE[CELL_TYPE["SNAKE"] = 1] = "SNAKE";
    CELL_TYPE[CELL_TYPE["APPLE"] = 2] = "APPLE";
    CELL_TYPE[CELL_TYPE["CRASH"] = 3] = "CRASH";
})(CELL_TYPE = exports.CELL_TYPE || (exports.CELL_TYPE = {}));
var DIRECTION;
(function (DIRECTION) {
    DIRECTION[DIRECTION["RIGHT"] = 0] = "RIGHT";
    DIRECTION[DIRECTION["LEFT"] = 1] = "LEFT";
    DIRECTION[DIRECTION["DOWN"] = 2] = "DOWN";
    DIRECTION[DIRECTION["UP"] = 3] = "UP";
})(DIRECTION = exports.DIRECTION || (exports.DIRECTION = {}));
exports.COLOR = (_a = {},
    _a[CELL_TYPE.SNAKE] = 'green',
    _a[CELL_TYPE.APPLE] = 'red',
    _a[CELL_TYPE.CRASH] = 'darkred',
    _a[CELL_TYPE.EMPTY] = 'white',
    _a);

},{}]},{},[5])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29udHJvbGxlcnMvR2FtZS50cyIsInNyYy9jb250cm9sbGVycy9HcmlkLnRzIiwic3JjL2NvbnRyb2xsZXJzL1NuYWtlLnRzIiwic3JjL2NvbnRyb2xsZXJzL1ZpZXcudHMiLCJzcmMvbWFpbi50cyIsInNyYy9zaGFyZWQvY29uc3RhbnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxpREFBc0c7QUFDdEcsK0JBQTBCO0FBQzFCLCtCQUEwQjtBQUMxQixpQ0FBNEI7QUFHNUI7SUFXSTtRQVBRLFVBQUssR0FBVyxDQUFDLENBQUM7UUFDbEIsVUFBSyxHQUFXLENBQUMsQ0FBQztRQUNsQixVQUFLLEdBQVcsdUJBQVcsQ0FBQztRQUM1QixjQUFTLEdBQWMscUJBQVMsQ0FBQyxLQUFLLENBQUM7UUFDdkMsNkJBQXdCLEdBQVksSUFBSSxDQUFDO1FBQ3pDLGFBQVEsR0FBWSxLQUFLLENBQUM7UUFHOUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLGNBQUksRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxjQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksZUFBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVsQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFFOUQsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxvQkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUM1QixNQUFNLENBQUMsS0FBSyxFQUFF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QUFXLENBQUE7QUFDZixDQUFDLEVBUFcsR0FBRyxHQUFILFdBQUcsS0FBSCxXQUFHLFFBT2Q7QUFFRCxJQUFZLFNBS1g7QUFMRCxXQUFZLFNBQVM7SUFDakIsMkNBQUssQ0FBQTtJQUNMLDJDQUFLLENBQUE7SUFDTCwyQ0FBSyxDQUFBO0lBQ0wsMkNBQUssQ0FBQTtBQUNULENBQUMsRUFMVyxTQUFTLEdBQVQsaUJBQVMsS0FBVCxpQkFBUyxRQUtwQjtBQUVELElBQVksU0FLWDtBQUxELFdBQVksU0FBUztJQUNqQiwyQ0FBSyxDQUFBO0lBQ0wseUNBQUksQ0FBQTtJQUNKLHlDQUFJLENBQUE7SUFDSixxQ0FBRSxDQUFBO0FBQ04sQ0FBQyxFQUxXLFNBQVMsR0FBVCxpQkFBUyxLQUFULGlCQUFTLFFBS3BCO0FBRVksUUFBQSxLQUFLO0lBQ2QsR0FBQyxTQUFTLENBQUMsS0FBSyxJQUFHLE9BQU87SUFDMUIsR0FBQyxTQUFTLENBQUMsS0FBSyxJQUFHLEtBQUs7SUFDeEIsR0FBQyxTQUFTLENBQUMsS0FBSyxJQUFHLFNBQVM7SUFDNUIsR0FBQyxTQUFTLENBQUMsS0FBSyxJQUFHLE9BQU87UUFDNUIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgeyBDRUxMX1RZUEUsIERJUkVDVElPTiwgS0VZLCBTUEVFRF9JTkNSRUFTRV9JTlRFUlZBTCwgU1RBUlRfU1BFRUQgfSBmcm9tIFwiLi4vc2hhcmVkL2NvbnN0YW50c1wiO1xuaW1wb3J0IEdyaWQgZnJvbSBcIi4vR3JpZFwiO1xuaW1wb3J0IFZpZXcgZnJvbSBcIi4vVmlld1wiO1xuaW1wb3J0IFNuYWtlIGZyb20gXCIuL1NuYWtlXCI7XG5pbXBvcnQgSUNvb3JkaW5hdGUgZnJvbSBcIi4uL3NoYXJlZC9JQ29vcmRpbmF0ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHZpZXc6IFZpZXc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBncmlkOiBHcmlkO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc25ha2U6IFNuYWtlO1xuICAgIHByaXZhdGUgZnJhbWU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBzY29yZTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIHNwZWVkOiBudW1iZXIgPSBTVEFSVF9TUEVFRDtcbiAgICBwcml2YXRlIGRpcmVjdGlvbjogRElSRUNUSU9OID0gRElSRUNUSU9OLlJJR0hUO1xuICAgIHByaXZhdGUgaXNDaGFuZ2VEaXJlY3Rpb25BbGxvd2VkOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIGlzUGF1c2VkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ncmlkID0gbmV3IEdyaWQoKTtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3IFZpZXcodGhpcy5ncmlkLmNvbHVtbnNRdWFudGl0eSwgdGhpcy5ncmlkLnJvd3NRdWFudGl0eSk7XG4gICAgICAgIHRoaXMuc25ha2UgPSBuZXcgU25ha2UodGhpcy5ncmlkKTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlEb3duLmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVBcHBsZSgpO1xuICAgIH1cblxuICAgIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnZpZXcuaGlkZVN0YXJ0U2NyZWVuKCk7XG4gICAgICAgIHdpbmRvdy5mb2N1cygpO1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuc3RhcnRMb29wLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHBhdXNlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlzUGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWV3LnRvZ2dsZVBhdXNlU2NyZWVuKCk7XG4gICAgfVxuXG4gICAgcmVzdW1lKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmlldy50b2dnbGVQYXVzZVNjcmVlbigpO1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuc3RhcnRMb29wLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25LZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgICAgICBjYXNlIEtFWS5BUlJPV19SSUdIVDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gIT09IERJUkVDVElPTi5MRUZUICYmIHRoaXMuaXNDaGFuZ2VEaXJlY3Rpb25BbGxvd2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gRElSRUNUSU9OLlJJR0hUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS0VZLkFSUk9XX0xFRlQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uICE9PSBESVJFQ1RJT04uUklHSFQgJiYgdGhpcy5pc0NoYW5nZURpcmVjdGlvbkFsbG93ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBESVJFQ1RJT04uTEVGVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtFWS5BUlJPV19VUDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gIT09IERJUkVDVElPTi5ET1dOICYmIHRoaXMuaXNDaGFuZ2VEaXJlY3Rpb25BbGxvd2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gRElSRUNUSU9OLlVQO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS0VZLkFSUk9XX0RPV046XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uICE9PSBESVJFQ1RJT04uVVAgJiYgdGhpcy5pc0NoYW5nZURpcmVjdGlvbkFsbG93ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBESVJFQ1RJT04uRE9XTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtFWS5FTlRFUjpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgS0VZLlNQQUNFOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNQYXVzZWQgPyB0aGlzLnJlc3VtZSgpIDogdGhpcy5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNDaGFuZ2VEaXJlY3Rpb25BbGxvd2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUFwcGxlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBlbXB0eUNvb3JkaW5hdGVzOiBJQ29vcmRpbmF0ZVtdID0gdGhpcy5nZXRFbXB0eUNvb3JkaW5hdGVzKCk7XG4gICAgICAgIGNvbnN0IGZvb2RDb29yZGluYXRlOiBJQ29vcmRpbmF0ZSA9IGVtcHR5Q29vcmRpbmF0ZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGVtcHR5Q29vcmRpbmF0ZXMubGVuZ3RoIC0gMSkpXTtcblxuICAgICAgICB0aGlzLmdyaWQuc2V0Q2VsbChmb29kQ29vcmRpbmF0ZSwgQ0VMTF9UWVBFLkFQUExFKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEVtcHR5Q29vcmRpbmF0ZXMoKTogSUNvb3JkaW5hdGVbXSB7XG4gICAgICAgIGNvbnN0IGVtcHR5Q29vcmRpbmF0ZXM6IElDb29yZGluYXRlW10gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCByb3c6IG51bWJlciA9IDA7IHJvdyA8IHRoaXMuZ3JpZC5yb3dzUXVhbnRpdHk7IHJvdysrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2x1bW46IG51bWJlciA9IDA7IGNvbHVtbiA8IHRoaXMuZ3JpZC5jb2x1bW5zUXVhbnRpdHk7IGNvbHVtbisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JpZC5nZXRDZWxsKHsgcm93LCBjb2x1bW4gfSkgPT09IENFTExfVFlQRS5FTVBUWSkge1xuICAgICAgICAgICAgICAgICAgICBlbXB0eUNvb3JkaW5hdGVzLnB1c2goeyByb3csIGNvbHVtbiB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZW1wdHlDb29yZGluYXRlcztcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXJ0TG9vcCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNQYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgrK3RoaXMuZnJhbWUgJSB0aGlzLnNwZWVkICE9PSAwKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuc3RhcnRMb29wLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhlYWRSb3c6IG51bWJlciA9IHRoaXMuc25ha2UuaGVhZC5yb3c7XG4gICAgICAgIGxldCBoZWFkQ29sdW1uOiBudW1iZXIgPSB0aGlzLnNuYWtlLmhlYWQuY29sdW1uO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5kaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgRElSRUNUSU9OLlJJR0hUOlxuICAgICAgICAgICAgICAgIGhlYWRDb2x1bW4rKztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgICAgICAgICAgaGVhZENvbHVtbi0tO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBESVJFQ1RJT04uVVA6XG4gICAgICAgICAgICAgICAgaGVhZFJvdy0tO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBESVJFQ1RJT04uRE9XTjpcbiAgICAgICAgICAgICAgICBoZWFkUm93Kys7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jaGVja0dhbWVPdmVyKHsgcm93OiBoZWFkUm93LCBjb2x1bW46IGhlYWRDb2x1bW4gfSkpIHtcbiAgICAgICAgICAgIC8vIHRvZG8gaGFuZGxlIGdhbWUgb3ZlclxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc0dldEFwcGxlOiBib29sZWFuID0gdGhpcy5ncmlkLmdldENlbGwoeyByb3c6IGhlYWRSb3csIGNvbHVtbjogaGVhZENvbHVtbiB9KSA9PT0gQ0VMTF9UWVBFLkFQUExFO1xuXG4gICAgICAgIGlmIChpc0dldEFwcGxlKSB7XG4gICAgICAgICAgICB0aGlzLnNuYWtlLmVhdCh7IHJvdzogaGVhZFJvdywgY29sdW1uOiBoZWFkQ29sdW1uIH0pO1xuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUFwcGxlKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlKCsrdGhpcy5zY29yZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNuYWtlLm1vdmUoeyByb3c6IGhlYWRSb3csIGNvbHVtbjogaGVhZENvbHVtbiB9KTtcblxuICAgICAgICB0aGlzLnZpZXcuZHJhdyh0aGlzLmdyaWQuZ3JpZCk7XG4gICAgICAgIHRoaXMuaXNDaGFuZ2VEaXJlY3Rpb25BbGxvd2VkID0gdHJ1ZTtcblxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuc3RhcnRMb29wLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlU2NvcmUoc2NvcmU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zY29yZSAlIFNQRUVEX0lOQ1JFQVNFX0lOVEVSVkFMID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNwZWVkLS07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpZXcudXBkYXRlU2NvcmUodGhpcy5zY29yZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaGVja0dhbWVPdmVyKHNuYWtlSGVhZDogSUNvb3JkaW5hdGUpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgaXNUb3VjaGVkQm9yZGVyOiBib29sZWFuID0gc25ha2VIZWFkLnJvdyA8IDAgfHwgc25ha2VIZWFkLmNvbHVtbiA8IDAgfHwgc25ha2VIZWFkLnJvdyA+IHRoaXMuZ3JpZC5yb3dzUXVhbnRpdHkgLSAxIHx8IHNuYWtlSGVhZC5jb2x1bW4gPiB0aGlzLmdyaWQuY29sdW1uc1F1YW50aXR5IC0gMTtcbiAgICAgICAgY29uc3QgaXNUb3VjaGVkSGVyc2VsZjogYm9vbGVhbiA9IHRoaXMuZ3JpZC5nZXRDZWxsKHNuYWtlSGVhZCkgPT09IENFTExfVFlQRS5TTkFLRTtcblxuICAgICAgICByZXR1cm4gaXNUb3VjaGVkQm9yZGVyIHx8IGlzVG91Y2hlZEhlcnNlbGY7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ0VMTF9TSVpFLCBDRUxMX1RZUEUsIEdSSURfTUFSR0lOIH0gZnJvbSBcIi4uL3NoYXJlZC9jb25zdGFudHNcIjtcbmltcG9ydCBJQ29vcmRpbmF0ZSBmcm9tIFwiLi4vc2hhcmVkL0lDb29yZGluYXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWQge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2dyaWQ6IENFTExfVFlQRVtdW10gPSBbXTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb2xzOiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfcm93czogbnVtYmVyO1xuXG4gICAgZ2V0IGNvbHVtbnNRdWFudGl0eSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29scztcbiAgICB9XG5cbiAgICBnZXQgcm93c1F1YW50aXR5KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3dzO1xuICAgIH1cblxuICAgIGdldCBncmlkKCk6IENFTExfVFlQRVtdW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JpZDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fY29scyA9IE1hdGgucm91bmQod2luZG93LmlubmVyV2lkdGggLyBDRUxMX1NJWkUpIC0gR1JJRF9NQVJHSU47XG4gICAgICAgIHRoaXMuX3Jvd3MgPSBNYXRoLnJvdW5kKHdpbmRvdy5pbm5lckhlaWdodCAvIENFTExfU0laRSkgLSBHUklEX01BUkdJTjtcblxuICAgICAgICBmb3IgKGxldCByb3c6IG51bWJlciA9IDA7IHJvdyA8IHRoaXMuX3Jvd3M7IHJvdysrKSB7XG4gICAgICAgICAgICB0aGlzLl9ncmlkW3Jvd10gPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgY29sdW1uOiBudW1iZXIgPSAwOyBjb2x1bW4gPCB0aGlzLl9jb2xzOyBjb2x1bW4rKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dyaWRbcm93XVtjb2x1bW5dID0gQ0VMTF9UWVBFLkVNUFRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q2VsbChjb29yZGluYXRlOiBJQ29vcmRpbmF0ZSk6IENFTExfVFlQRSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ncmlkW2Nvb3JkaW5hdGUucm93XVtjb29yZGluYXRlLmNvbHVtbl07XG4gICAgfVxuXG4gICAgc2V0Q2VsbChjb29yZGluYXRlOiBJQ29vcmRpbmF0ZSwgdHlwZTogQ0VMTF9UWVBFKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2dyaWRbY29vcmRpbmF0ZS5yb3ddW2Nvb3JkaW5hdGUuY29sdW1uXSA9IHR5cGU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ0VMTF9UWVBFLCBTVEFSVF9TTkFLRV9DT09SRElOQVRFIH0gZnJvbSBcIi4uL3NoYXJlZC9jb25zdGFudHNcIjtcbmltcG9ydCBHcmlkIGZyb20gXCIuL0dyaWRcIjtcbmltcG9ydCBJQ29vcmRpbmF0ZSBmcm9tIFwiLi4vc2hhcmVkL0lDb29yZGluYXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNuYWtlIHtcbiAgICBwcml2YXRlIGNoYWluOiBJQ29vcmRpbmF0ZVtdID0gW107XG5cbiAgICBnZXQgaGVhZCgpOiBJQ29vcmRpbmF0ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYWluWzBdO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgZ3JpZDogR3JpZCkge1xuICAgICAgICB0aGlzLmNoYWluLnB1c2goU1RBUlRfU05BS0VfQ09PUkRJTkFURSk7XG4gICAgfVxuXG4gICAgZWF0KGNvb3JkaW5hdGU6IElDb29yZGluYXRlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hhaW4udW5zaGlmdChjb29yZGluYXRlKTtcbiAgICAgICAgdGhpcy5ncmlkLnNldENlbGwoY29vcmRpbmF0ZSwgQ0VMTF9UWVBFLlNOQUtFKTtcbiAgICB9XG5cbiAgICBtb3ZlKGNvb3JkaW5hdGU6IElDb29yZGluYXRlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hhaW4udW5zaGlmdChjb29yZGluYXRlKTtcbiAgICAgICAgdGhpcy5ncmlkLnNldENlbGwoY29vcmRpbmF0ZSwgQ0VMTF9UWVBFLlNOQUtFKTtcblxuICAgICAgICBjb25zdCBuZXh0Q29vcmRpbmF0ZTogSUNvb3JkaW5hdGUgPSB7XG4gICAgICAgICAgICByb3c6IHRoaXMuY2hhaW5bdGhpcy5jaGFpbi5sZW5ndGggLSAxXS5yb3csXG4gICAgICAgICAgICBjb2x1bW46IHRoaXMuY2hhaW5bdGhpcy5jaGFpbi5sZW5ndGggLSAxXS5jb2x1bW5cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmdyaWQuc2V0Q2VsbChuZXh0Q29vcmRpbmF0ZSwgQ0VMTF9UWVBFLkVNUFRZKTtcbiAgICAgICAgdGhpcy5jaGFpbi5wb3AoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDRUxMX1NJWkUsIENFTExfVFlQRSwgQ09MT1IgfSBmcm9tIFwiLi4vc2hhcmVkL2NvbnN0YW50c1wiO1xuaW1wb3J0IElDb29yZGluYXRlIGZyb20gXCIuLi9zaGFyZWQvSUNvb3JkaW5hdGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlldyB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzdGFydFNjcmVlbjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBwYXVzZVNjcmVlbjogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNvbHM6IG51bWJlciwgcHJpdmF0ZSByZWFkb25seSByb3dzOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5zdGFydFNjcmVlbiA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwb3B1cC0tc3RhcnQnKVswXTtcbiAgICAgICAgdGhpcy5wYXVzZVNjcmVlbiA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwb3B1cC0tcGF1c2UnKVswXTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYmF0dGxlZmllbGQnKVswXTtcbiAgICAgICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGAke3RoaXMuY29scyAqIENFTExfU0laRX1weGApO1xuICAgICAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGAke3RoaXMucm93cyAqIENFTExfU0laRX1weGApO1xuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgfVxuXG4gICAgZHJhdyhncmlkOiBDRUxMX1RZUEVbXVtdKTogdm9pZCB7XG4gICAgICAgIGdyaWQuZm9yRWFjaCgocm93QXJyOiBbXSwgcm93OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHJvd0Fyci5mb3JFYWNoKCh0eXBlOiBDRUxMX1RZUEUsIGNvbHVtbjogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2VsbCh7IHJvdywgY29sdW1uIH0sIHR5cGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZVNjb3JlKHNjb3JlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgLy8gdG9kbyBpbXBsZW1lbnQgc2NvcmUgZHJhd1xuICAgIH1cblxuICAgIGhpZGVTdGFydFNjcmVlbigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdGFydFNjcmVlbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIHRvZ2dsZVBhdXNlU2NyZWVuKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnBhdXNlU2NyZWVuLnN0eWxlLmRpc3BsYXkgPSB0aGlzLnBhdXNlU2NyZWVuLnN0eWxlLmRpc3BsYXkgPT09ICdmbGV4JyA/ICdub25lJyA6ICdmbGV4JztcbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdDZWxsKGNvb3JkaW5hdGU6IElDb29yZGluYXRlLCB0eXBlOiBDRUxMX1RZUEUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gQ09MT1JbdHlwZV0gfHwgQ09MT1JbQ0VMTF9UWVBFLkVNUFRZXTtcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoY29vcmRpbmF0ZS5jb2x1bW4gKiBDRUxMX1NJWkUsIGNvb3JkaW5hdGUucm93ICogQ0VMTF9TSVpFLCBDRUxMX1NJWkUsIENFTExfU0laRSk7XG4gICAgfTtcbn1cbiIsImltcG9ydCBHYW1lIGZyb20gJy4vY29udHJvbGxlcnMvR2FtZSc7XG5cbmNvbnN0IGdhbWUgPSBuZXcgR2FtZSgpO1xuY29uc3Qgc3RhcnRCdXR0b24gPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncG9wdXBfX2J1dHRvbicpWzBdO1xuXG5zdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGdhbWUuc3RhcnQoKSk7XG4iLCJpbXBvcnQgSUNvb3JkaW5hdGUgZnJvbSBcIi4vSUNvb3JkaW5hdGVcIjtcblxuZXhwb3J0IGNvbnN0IENFTExfU0laRTogbnVtYmVyID0gMjA7XG5leHBvcnQgY29uc3QgR1JJRF9NQVJHSU46IG51bWJlciA9IDY7XG5leHBvcnQgY29uc3QgU1RBUlRfU1BFRUQ6IG51bWJlciA9IDEwO1xuZXhwb3J0IGNvbnN0IFNQRUVEX0lOQ1JFQVNFX0lOVEVSVkFMOiBudW1iZXIgPSA1O1xuZXhwb3J0IGNvbnN0IFNUQVJUX1NOQUtFX0NPT1JESU5BVEU6IElDb29yZGluYXRlID0ge1xuICAgIHJvdzogMyxcbiAgICBjb2x1bW46IDNcbn07XG5cbmV4cG9ydCBlbnVtIEtFWSB7XG4gICAgQVJST1dfVVAgPSAnQXJyb3dVcCcsXG4gICAgQVJST1dfUklHSFQgPSAnQXJyb3dSaWdodCcsXG4gICAgQVJST1dfRE9XTiA9ICdBcnJvd0Rvd24nLFxuICAgIEFSUk9XX0xFRlQgPSAnQXJyb3dMZWZ0JyxcbiAgICBFTlRFUiA9ICdFbnRlcicsXG4gICAgU1BBQ0UgPSAnICdcbn1cblxuZXhwb3J0IGVudW0gQ0VMTF9UWVBFIHtcbiAgICBFTVBUWSxcbiAgICBTTkFLRSxcbiAgICBBUFBMRSxcbiAgICBDUkFTSFxufVxuXG5leHBvcnQgZW51bSBESVJFQ1RJT04ge1xuICAgIFJJR0hULFxuICAgIExFRlQsXG4gICAgRE9XTixcbiAgICBVUFxufVxuXG5leHBvcnQgY29uc3QgQ09MT1IgPSB7XG4gICAgW0NFTExfVFlQRS5TTkFLRV06ICdncmVlbicsXG4gICAgW0NFTExfVFlQRS5BUFBMRV06ICdyZWQnLFxuICAgIFtDRUxMX1RZUEUuQ1JBU0hdOiAnZGFya3JlZCcsXG4gICAgW0NFTExfVFlQRS5FTVBUWV06ICd3aGl0ZSdcbn07XG4iXX0=
